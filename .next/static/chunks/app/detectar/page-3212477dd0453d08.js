(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[591],{86:(e,t,r)=>{Promise.resolve().then(r.bind(r,8297))},172:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(157).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},285:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var s=r(5155),a=r(2115),l=r(9708),n=r(2085),d=r(9434);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:c=!1,...o}=e,u=c?l.DX:"button";return(0,s.jsx)(u,{className:(0,d.cn)(i({variant:a,size:n,className:r})),ref:t,...o})});c.displayName="Button"},968:(e,t,r)=>{"use strict";r.d(t,{b:()=>d});var s=r(2115),a=r(3655),l=r(5155),n=s.forwardRef((e,t)=>(0,l.jsx)(a.sG.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var d=n},1469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return i},getImageProps:function(){return d}});let s=r(8229),a=r(8883),l=r(3063),n=s._(r(1193));function d(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let i=l.Image},2523:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var s=r(5155),a=r(2115),l=r(9434);let n=a.forwardRef((e,t)=>{let{className:r,type:a,...n}=e;return(0,s.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...n})});n.displayName="Input"},3838:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(157).A)("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]])},4477:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return s.callServer},createServerReference:function(){return l},findSourceMapURL:function(){return a.findSourceMapURL}});let s=r(3806),a=r(1818),l=r(4979).createServerReference},5057:(e,t,r)=>{"use strict";r.d(t,{J:()=>c});var s=r(5155),a=r(2115),l=r(968),n=r(2085),d=r(9434);let i=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(l.b,{ref:t,className:(0,d.cn)(i(),r),...a})});c.displayName=l.b.displayName},5745:(e,t,r)=>{"use strict";r.d(t,{b:()=>d});var s=r(5155),a=r(7650),l=r(285),n=r(172);function d(e){let{children:t,pendingText:r,...d}=e,{pending:i}=(0,a.useFormStatus)();return(0,s.jsx)(l.$,{...d,type:"submit",disabled:d.disabled||i,children:i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.A,{className:"mr-2 h-4 w-4 animate-spin"}),r||t]}):t})}},6654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return a}});let s=r(2115);function a(e,t){let r=(0,s.useRef)(null),a=(0,s.useRef)(null);return(0,s.useCallback)(s=>{if(null===s){let e=r.current;e&&(r.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(r.current=l(e,s)),t&&(a.current=l(t,s))},[e,t])}function l(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>o,ZB:()=>i,Zp:()=>n,aR:()=>d,wL:()=>u});var s=r(5155),a=r(2115),l=r(9434);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});n.displayName="Card";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...a})});d.displayName="CardHeader";let i=a.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight font-headline",r),...n,children:a})});i.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...n,children:a})});c.displayName="CardDescription";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",r),...a})});o.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},8297:(e,t,r)=>{"use strict";r.d(t,{default:()=>S});var s=r(5155),a=r(2115),l=r(4477);let n=(0,l.createServerReference)("60256bb57d567403cb0988f6dc4ff01c92b8437e7a",l.callServer,void 0,l.findSourceMapURL,"detectPlantAction");var d=r(6695),i=r(2523),c=r(5057),o=r(5745),u=r(2085),f=r(9434);let m=(0,u.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),h=a.forwardRef((e,t)=>{let{className:r,variant:a,...l}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,f.cn)(m({variant:a}),r),...l})});h.displayName="Alert";let p=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h5",{ref:t,className:(0,f.cn)("mb-1 font-medium leading-none tracking-tight",r),...a})});p.displayName="AlertTitle";let x=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,f.cn)("text-sm [&_p]:leading-relaxed",r),...a})});x.displayName="AlertDescription";var g=r(1469),v=r.n(g),b=r(157);let j=(0,b.A)("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]),y=(0,b.A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var N=r(3838);let w=(0,b.A)("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),k=(0,b.A)("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),R=(0,b.A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),A=(0,b.A)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),M=(0,b.A)("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),C=(0,b.A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);function S(){let[e,t]=(0,a.useState)(null),r=(0,a.useRef)(null),[l,u]=(0,a.useActionState)(n,void 0);return(0,s.jsxs)(d.Zp,{className:"shadow-lg",children:[(0,s.jsxs)(d.aR,{children:[(0,s.jsx)(d.ZB,{className:"font-headline text-2xl",children:"Analizador de Plantas"}),(0,s.jsx)(d.BT,{children:"Carga una imagen para comenzar el an\xe1lisis."})]}),(0,s.jsxs)(d.Wu,{children:[(0,s.jsxs)("form",{action:u,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.J,{htmlFor:"plant-image",className:"flex flex-col items-center justify-center w-full h-64 border-2 border-dashed rounded-lg cursor-pointer bg-muted/50 hover:bg-muted",onDragOver:e=>e.preventDefault(),onDrop:e=>{if(e.preventDefault(),e.dataTransfer.files&&e.dataTransfer.files[0]&&r.current){r.current.files=e.dataTransfer.files;let t=new Event("change",{bubbles:!0});r.current.dispatchEvent(t)}},children:e?(0,s.jsx)(v(),{src:e,alt:"Vista previa de la planta",width:256,height:256,className:"h-full w-auto object-contain rounded-lg"}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 text-center",children:[(0,s.jsx)(j,{className:"w-10 h-10 mb-3 text-muted-foreground"}),(0,s.jsxs)("p",{className:"mb-2 text-sm text-muted-foreground",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Haz clic para subir"})," o arrastra y suelta"]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, o WEBP"})]})}),(0,s.jsx)(i.p,{id:"plant-image",name:"image",type:"file",className:"hidden",accept:"image/png, image/jpeg, image/webp",onChange:e=>{var r;let s=null==(r=e.target.files)?void 0:r[0];if(s){let e=new FileReader;e.onloadend=()=>{t(e.result)},e.readAsDataURL(s)}},ref:r})]}),(0,s.jsx)(o.b,{className:"w-full",pendingText:"Analizando...",children:"Identificar Planta"})]}),(null==l?void 0:l.error)&&(0,s.jsxs)(h,{variant:"destructive",className:"mt-6",children:[(0,s.jsx)(y,{className:"h-4 w-4"}),(0,s.jsx)(p,{children:"Error"}),(0,s.jsx)(x,{children:l.error})]}),(null==l?void 0:l.result)&&(0,s.jsxs)("div",{className:"mt-8 space-y-6 animate-fade-in",children:[(0,s.jsx)("h3",{className:"text-xl font-headline font-bold text-center",children:"Resultados del An\xe1lisis"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)(d.Zp,{children:[(0,s.jsx)(d.aR,{children:(0,s.jsxs)(d.ZB,{className:"flex items-center",children:[(0,s.jsx)(N.A,{className:"mr-2 text-primary"})," Identificaci\xf3n"]})}),(0,s.jsxs)(d.Wu,{className:"space-y-2",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Nombre Com\xfan:"})," ",l.result.speciesIdentification.commonName]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Nombre Lat\xedn:"})," ",(0,s.jsx)("span",{className:"italic",children:l.result.speciesIdentification.latinName})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(w,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)("strong",{children:"Confianza:"}),(0,s.jsx)("div",{className:"w-full bg-muted rounded-full h-2.5 ml-2",children:(0,s.jsx)("div",{className:"bg-primary h-2.5 rounded-full",style:{width:"".concat(100*l.result.speciesIdentification.confidence,"%")}})})]})]})]}),(0,s.jsxs)(d.Zp,{children:[(0,s.jsx)(d.aR,{children:(0,s.jsxs)(d.ZB,{className:"flex items-center",children:[(0,s.jsx)(k,{className:"mr-2 text-primary"})," Estado de Salud"]})}),(0,s.jsxs)(d.Wu,{className:"space-y-2",children:[(0,s.jsx)("div",{className:"flex items-center",children:l.result.healthAssessment.isHealthy?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(R,{className:"mr-2 text-green-500"})," ",(0,s.jsx)("span",{className:"font-bold",children:"Saludable"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y,{className:"mr-2 text-yellow-500"})," ",(0,s.jsx)("span",{className:"font-bold",children:"Necesita atenci\xf3n"})]})}),(0,s.jsx)("p",{className:"text-muted-foreground",children:l.result.healthAssessment.issues})]})]})]}),(0,s.jsxs)(d.Zp,{children:[(0,s.jsx)(d.aR,{children:(0,s.jsxs)(d.ZB,{className:"flex items-center",children:[(0,s.jsx)(A,{className:"mr-2 text-primary"})," Recomendaciones de Cuidado"]})}),(0,s.jsxs)(d.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(M,{className:"mr-3 h-5 w-5 text-blue-500 flex-shrink-0 mt-1"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-bold",children:"Riego"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:l.result.careRecommendations.watering})]})]}),(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(C,{className:"mr-3 h-5 w-5 text-yellow-500 flex-shrink-0 mt-1"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-bold",children:"Luz Solar"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:l.result.careRecommendations.sunlight})]})]}),(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(R,{className:"mr-3 h-5 w-5 text-green-500 flex-shrink-0 mt-1"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-bold",children:"Consejos Generales"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:l.result.careRecommendations.generalTips})]})]})]})]})]})]})]})}},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var s=r(2596),a=r(9688);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[905,63,441,684,358],()=>t(86)),_N_E=e.O()}]);